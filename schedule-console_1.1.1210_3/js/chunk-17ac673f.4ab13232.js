(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17ac673f"],{"0c4b":function(t,e,o){},1800:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Card",[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("分组管理")]),o("Row",{attrs:{gutter:20}},[o("Form",{attrs:{inline:"","label-width":80}},[o("FormItem",{attrs:{label:"组编号"}},[o("Input",{attrs:{placeholder:"请输入组编号"},model:{value:t.groupCode,callback:function(e){t.groupCode=e},expression:"groupCode"}})],1),o("FormItem",{attrs:{label:"组名称"}},[o("Input",{attrs:{placeholder:"请输入组名称"},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}})],1),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1),o("FormItem",[o("Button",{attrs:{type:"info"},on:{click:t.addGroup}},[t._v("添加组")])],1)],1)],1),o("Row",{staticClass:"margin-top-20"},[o("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),o("Row",{staticClass:"margin-top-20"},[o("Page",{attrs:{"page-size-opts":t.page.pageSiezs,"page-size":t.page.pageSize,total:t.page.total,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":t.toPageNo,"on-page-size-change":t.changePageSize}})],1)],1),o("Modal",{attrs:{title:t.modalTitle,"mask-closable":!1,scrollable:!0,styles:{top:"20px"}},model:{value:t.isShowGroupInfoModal,callback:function(e){t.isShowGroupInfoModal=e},expression:"isShowGroupInfoModal"}},[o("Form",{ref:"addGroupForm",attrs:{model:t.group,"label-width":80,rules:t.groupRule}},[t.isShowGroupInfo?o("FormItem",{attrs:{label:"组编码",prop:"groupName"}},[o("Input",{attrs:{disabled:""},model:{value:t.group.groupCode,callback:function(e){t.$set(t.group,"groupCode",e)},expression:"group.groupCode"}})],1):t._e(),o("FormItem",{attrs:{label:"组名称",prop:"groupName"}},[o("Input",{model:{value:t.group.groupName,callback:function(e){t.$set(t.group,"groupName",e)},expression:"group.groupName"}})],1),o("FormItem",{attrs:{label:"组描述",prop:"desc"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:3}},model:{value:t.group.desc,callback:function(e){t.$set(t.group,"desc",e)},expression:"group.desc"}})],1),o("FormItem",{attrs:{label:"归属应用",prop:"appInfo"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:3}},model:{value:t.group.appInfo,callback:function(e){t.$set(t.group,"appInfo",e)},expression:"group.appInfo"}})],1)],1),o("Row",{attrs:{slot:"footer",justify:"center",type:"flex"},slot:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.buttonContext))]),o("Button",{staticStyle:{"margin-left":"50px"},attrs:{type:"warning"},on:{click:t.cancle}},[t._v("取消")])],1)],1)],1)},a=[],n=o("7e1e"),u={name:"task-group",data:function(){var t=this;return{groupName:"",groupCode:"",modalTitle:"添加组",buttonContext:"添加",isShowGroupInfoModal:!1,isShowGroupInfo:!1,isAddGroup:!0,eventType:"save",group:{},columns:[{title:"组ID",key:"id",align:"center",width:100},{title:"组编码",key:"groupCode",align:"center",width:100},{title:"组名称",key:"groupName",align:"center"},{title:"组详情",key:"desc",align:"center"},{title:"任务名称",key:"appInfo",align:"center"},{title:"创建时间",key:"createTime",align:"center",width:150},{title:"操作",width:250,align:"center",render:function(e,o){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.$Modal.confirm({title:"确定删除组["+o.row.groupName+"]?",onOk:function(){var e={groupId:o.row.id};Object(n["d"])(e).then((function(e){"200"===e.data.code?(t.$Message.success("删除成功"),t.taskGroupList()):t.$Message.error("删除失败!"+e.data.msg)}))}})}}},"删除"),e("Button",{props:{type:"success",size:"small"},style:{marginLeft:"20px"},on:{click:function(){t.group=o.row,t.modalTitle="编辑",t.buttonContext="修改组",t.isShowGroupInfoModal=!0,t.isShowGroupInfo=!0,t.isAddGroup=!1,t.eventType="edit"}}},"编辑")])}}],data:[],groupRule:{groupName:[{required:!0,message:"组名称不能为空"}],desc:[{required:!0,message:"组描述信息不能为空"}],appInfo:[{required:!0,message:"归属应用信息不能为空"}]},page:{total:0,pageNo:1,pageSize:20,pageSizes:[10,20,50]}}},methods:{search:function(){this.taskGroupList()},toPageNo:function(t){this.pageNo=t,this.taskGroupList()},changePageSize:function(t){this.page.pageSize=t,this.taskGroupList()},addGroup:function(){this.isShowGroupInfoModal=!0,this.isShowGroupInfo=!1,this.modalTitle="添加组",this.eventType="save",this.buttonContext="添加",this.isAddGroup=!0},taskGroupList:function(){var t=this,e={groupCode:this.groupCode,groupName:this.groupName,pageNo:this.page.pageNo,pageSize:this.page.pageSize};Object(n["g"])(e).then((function(e){"200"===e.data.code&&(t.data=e.data.data,t.page.total=e.data.totalNum)}))},cancle:function(){this.isShowGroupInfoModal=!1,this.group={}},submit:function(){var t=this;switch(this.eventType){case"save":this.$refs["addGroupForm"].validate((function(e){if(e){var o=t.group;Object(n["a"])(o).then((function(e){"200"===e.data.code?(t.$Message.success("添加成功"),t.cancle(),t.taskGroupList()):t.$Message.error("添加失败!"+e.data.msg)}))}}));break;case"edit":this.$refs["addGroupForm"].validate((function(e){if(e){var o=t.group;Object(n["j"])(o).then((function(e){"200"===e.data.code?(t.$Message.success("修改成功"),t.cancle(),t.taskGroupList()):t.$Message.error("修改失败!"+e.data.msg)}))}}));break;case"info":this.cancle();break}}},mounted:function(){this.taskGroupList()}},s=u,i=(o("8bb5"),o("4023")),c=Object(i["a"])(s,r,a,!1,null,null,null);e["default"]=c.exports},"7e1e":function(t,e,o){"use strict";o.d(e,"p",(function(){return a})),o.d(e,"o",(function(){return n})),o.d(e,"i",(function(){return u})),o.d(e,"n",(function(){return s})),o.d(e,"c",(function(){return i})),o.d(e,"f",(function(){return c})),o.d(e,"b",(function(){return p})),o.d(e,"g",(function(){return l})),o.d(e,"h",(function(){return d})),o.d(e,"e",(function(){return m})),o.d(e,"k",(function(){return g})),o.d(e,"m",(function(){return f})),o.d(e,"l",(function(){return h})),o.d(e,"d",(function(){return b})),o.d(e,"j",(function(){return k})),o.d(e,"a",(function(){return I})),o.d(e,"r",(function(){return w})),o.d(e,"q",(function(){return v})),o.d(e,"s",(function(){return G}));var r=o("66df"),a=function(t){switch(t){case"SCHEDULE":return"调度";case"SCHEDULE_STOP":return"终止"}return t},n=function(t){switch(t){case"INIT":return"待下发";case"PUBLISHING":return"下发中";case"PUBLISH_FAIL":return"下发失败";case"RUN":return"执行中";case"PAUSE":return"暂停";case"STOPING":return"终止中";case"ABORT":return"终止";case"FINISH":return"完成";case"DELETED":return"已取消"}return t},u=function(t){return r["a"].request({url:"/user/login",params:t,method:"post"})},s=function(t){return r["a"].request({url:"/schedule/immediate",data:t,method:"post"})},i=function(t){return r["a"].request({url:"/schedule/cleanRunningLock",params:t,method:"post"})},c=function(t){return r["a"].request({url:"/task/list",params:t,method:"get"})},p=function(t){return r["a"].request({url:"/task/add",data:t,method:"post"})},l=function(t){return r["a"].request({url:"/group/list",params:t,method:"get"})},d=function(t){return r["a"].request({url:"/command/list",params:t,method:"get"})},m=function(t){return r["a"].request({url:"/task/delete",data:t,method:"post"})},g=function(t){return r["a"].request({url:"/task/modify",data:t,method:"post"})},f=function(t){return r["a"].request({url:"/schedule/resume",data:t,method:"post"})},h=function(t){return r["a"].request({url:"/schedule/pause",data:t,method:"post"})},b=function(t){return r["a"].request({url:"/group/delete",data:t,method:"post"})},k=function(t){return r["a"].request({url:"/group/modify",data:t,method:"post"})},I=function(t){return r["a"].request({url:"/group/add",data:t,method:"post"})},w=function(t){return r["a"].request({url:"/command/taskCopy",data:t,method:"post"})},v=function(t){return r["a"].request({url:"/command/abort",data:t,method:"post"})},G=function(t){return r["a"].request({url:"/command/delete",data:t,method:"post"})}},"8bb5":function(t,e,o){"use strict";var r=o("0c4b"),a=o.n(r);a.a}}]);